pipeline {
    agent any
    stages {
        stage('Install dependencies') {
            steps {
                script {
                    sh('npm install')
                }
            }
        }
        stage('Unit Test') {
            steps {
                script {
                    sh('echo \"No test specified\" && exit 0')
sh ('sleep 20')
            sh ('exit 0')
                }
            }
        }
        stage('Build application') {
            steps {
                script {
                    sh ('echo \"No Build specified\" && exit 0')
sh ('sleep 20')
            sh ('exit 0')
                }
            }
        }
stage('SonarQube Analysis') {
steps{
script { 
def scannerHome = tool 'scanner'
withSonarQubeEnv {
sh "${scannerHome}/bin/sonar-scanner"
}
} 
} 
}
stage('Building images (node and mongo)') {
steps{
script {
sh('docker-compose build')
}
}
}

    }
}
